{"ast":null,"code":"import _objectSpread from \"/Users/abinetd/Desktop/Redux/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/abinetd/Desktop/Redux/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/abinetd/Desktop/Redux/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/abinetd/Desktop/Redux/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/abinetd/Desktop/Redux/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/abinetd/Desktop/Redux/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/abinetd/Desktop/Redux/GraphQL/frontend/src/components/UpdateBook.js\";\nimport React, { Component } from 'react';\nimport { QueryRenderer, graphql } from 'react-relay';\nimport environment from '../Environment';\nimport UpdateBookMutation from '../mutations/UpdateBookMutation';\n\nvar UpdateBookAuthorsQuery = function UpdateBookAuthorsQuery() {\n  var node = require(\"./__generated__/UpdateBookAuthorsQuery.graphql\");\n\n  if (node.hash && node.hash !== \"dcc68efc15100fe9c24aafb996c8e0b5\") {\n    console.error(\"The definition of 'UpdateBookAuthorsQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.\");\n  }\n\n  return require(\"./__generated__/UpdateBookAuthorsQuery.graphql\");\n};\n\nvar UpdateBook =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UpdateBook, _Component);\n\n  function UpdateBook() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UpdateBook);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UpdateBook)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      title: _this.props.book.title,\n      authorid: _this.props.book.author && _this.props.book.author.id ? _this.props.book.author.id : '',\n      description: _this.props.book.description\n    };\n\n    _this.updateBook = function () {\n      var _this$state = _this.state,\n          title = _this$state.title,\n          description = _this$state.description,\n          authorid = _this$state.authorid;\n      UpdateBookMutation(_objectSpread({}, _this.props.book, {\n        title: title,\n        description: description,\n        authorid: authorid\n      }));\n\n      _this.props.onClose();\n    };\n\n    return _this;\n  }\n\n  _createClass(UpdateBook, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"bookInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, \"Update Book\", React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.title,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            title: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        value: this.state.description,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            description: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }))), React.createElement(QueryRenderer, {\n        environment: environment,\n        query: UpdateBookAuthorsQuery,\n        render: function render(_ref) {\n          var error = _ref.error,\n              props = _ref.props;\n\n          if (error) {\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 45\n              },\n              __self: this\n            }, error.message);\n          } else if (props) {\n            console.log(props.authors);\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 51\n              },\n              __self: this\n            }, React.createElement(\"span\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 51\n              },\n              __self: this\n            }, \"Author\"), React.createElement(\"span\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 51\n              },\n              __self: this\n            }, React.createElement(\"select\", {\n              value: _this2.state.authorid,\n              onChange: function onChange(e) {\n                return _this2.setState({\n                  authorid: e.target.value\n                });\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 51\n              },\n              __self: this\n            }, props.authors.edges.map(function (_ref2) {\n              var node = _ref2.node;\n              return React.createElement(\"option\", {\n                value: node.id,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 52\n                },\n                __self: this\n              }, node.name);\n            }))));\n          }\n\n          return null;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"primary\",\n        onClick: this.updateBook,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Update\"))));\n    }\n  }]);\n\n  return UpdateBook;\n}(Component);\n\nexport default UpdateBook;","map":{"version":3,"sources":["/Users/abinetd/Desktop/Redux/GraphQL/frontend/src/components/UpdateBook.js"],"names":["React","Component","QueryRenderer","graphql","environment","UpdateBookMutation","UpdateBookAuthorsQuery","UpdateBook","state","title","props","book","authorid","author","id","description","updateBook","onClose","e","setState","target","value","error","message","console","log","authors","edges","map","node","name"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport {QueryRenderer,graphql} from 'react-relay';\nimport environment from '../Environment';\nimport UpdateBookMutation from '../mutations/UpdateBookMutation';\nconst UpdateBookAuthorsQuery = graphql`\nquery UpdateBookAuthorsQuery\n{\n  authors\n  {\n    edges\n    {node\n    {\n      id\n      name\n    }\n  }\n\n  }\n}\n`\n\nclass UpdateBook extends Component\n{\n\n  state = {\n    title:this.props.book.title,\n    authorid:this.props.book.author && this.props.book.author.id ? this.props.book.author.id:'',\n    description:this.props.book.description\n  };\n  render()\n  {\n\n    return (\n    <div className=\"bookInput\">\n      Update Book\n      <div><span>Title</span><span><input type=\"text\" value={this.state.title} onChange={(e)=>this.setState({title:e.target.value})}></input></span></div>\n      <div><span>Description</span><span><textarea value={this.state.description} onChange={(e)=>this.setState({description:e.target.value})}></textarea></span></div>\n\n      <QueryRenderer\n      environment={environment}\n      query={UpdateBookAuthorsQuery}\n      render={({error,props})=>{\n        if(error)\n        {\n          return <div>{error.message}</div>\n        }\n        else if(props)\n        {\n          console.log(props.authors);\n        return(\n          <div><span>Author</span><span><select value={this.state.authorid} onChange={(e)=>this.setState({authorid:e.target.value})}>\n            {props.authors.edges.map(({node})=>(<option value={node.id}>{node.name}</option>))}\n          </select></span></div>);\n        }\n        return null;\n      }}\n    />\n\n      <div><span></span><span><button className=\"primary\" onClick={this.updateBook}>Update</button></span></div>\n    </div>\n  )\n  }\n\n  updateBook= ()=>\n  {\n    const {title,description,authorid}=this.state;\n    UpdateBookMutation({...this.props.book,title:title,description:description,authorid:authorid});\n    this.props.onClose();\n  }\n}\n\nexport default UpdateBook;\n"]},"metadata":{},"sourceType":"module"}