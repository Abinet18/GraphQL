{"ast":null,"code":"import _classCallCheck from \"/Users/abinetd/Desktop/Redux/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/abinetd/Desktop/Redux/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/abinetd/Desktop/Redux/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/abinetd/Desktop/Redux/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/abinetd/Desktop/Redux/GraphQL/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/abinetd/Desktop/Redux/GraphQL/frontend/src/components/addbook.js\";\nimport React, { Component } from 'react';\nimport { QueryRenderer, graphql } from 'react-relay';\nimport { fetchQuery } from 'relay-runtime';\nimport environment from '../Environment';\nimport AddBookMutation from '../mutations/AddBookMutation';\n\nvar addbook =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(addbook, _Component);\n\n  function addbook() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, addbook);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(addbook)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      title: \"\",\n      authorid: \"\",\n      description: \"\"\n    };\n\n    _this.addBook = function () {\n      var _this$state = _this.state,\n          title = _this$state.title,\n          description = _this$state.description,\n          authorid = _this$state.authorid;\n      AddBookMutation(title, authorid, description, _this.props.onAddBook);\n    };\n\n    _this.getAuthors = function () {\n      console.log(\"getting authors\");\n      fetchQuery(environment, addbookAuthorsQuery).then(function (data) {\n        //console.log(data);\n        _this.setState({\n          authors: data.authors\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(addbook, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var authors = [];\n      this.props.authors.forEach(function (author) {\n        authors.push(author);\n      });\n      return React.createElement(\"div\", {\n        className: \"bookInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, \"Add New Book\", React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.title,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            title: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        value: this.state.description,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            description: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }))), this.props.authors !== null && this.state.authors !== undefined ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, \"Author\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        value: this.state.authorid,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            authorid: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, this.props.authors.map(function (author) {\n        return React.createElement(\"option\", {\n          value: author.id,\n          selected: author.id === _this2.state.authorid,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, author.name);\n      })))) : '', React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"primary\",\n        onClick: this.addBook,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, \"Add Book\"))));\n    }\n  }]);\n\n  return addbook;\n}(Component);\n\nexport default addbook;","map":{"version":3,"sources":["/Users/abinetd/Desktop/Redux/GraphQL/frontend/src/components/addbook.js"],"names":["React","Component","QueryRenderer","graphql","fetchQuery","environment","AddBookMutation","addbook","state","title","authorid","description","addBook","props","onAddBook","getAuthors","console","log","addbookAuthorsQuery","then","data","setState","authors","forEach","author","push","e","target","value","undefined","map","id","name"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport {QueryRenderer,graphql} from 'react-relay';\nimport {fetchQuery} from 'relay-runtime';\nimport environment from '../Environment';\nimport AddBookMutation from '../mutations/AddBookMutation';\n\nclass addbook extends Component\n{\n  state = {\n    title:\"\",\n    authorid:\"\",\n    description:\"\",\n  };\n\n\n  render()\n  {\n    const authors=[];\n    this.props.authors.forEach(author=>{\n      authors.push(author);\n    })\n    return (\n    <div className=\"bookInput\">\n      Add New Book\n      <div><span>Title</span><span><input type=\"text\" value={this.state.title} onChange={(e)=>this.setState({title:e.target.value})}></input></span></div>\n      <div><span>Description</span><span><textarea value={this.state.description} onChange={(e)=>this.setState({description:e.target.value})}>\n      </textarea></span></div>\n\n\n        {\n          (this.props.authors!==null && this.state.authors!==undefined)?  (<div><span>Author</span><span><select value={this.state.authorid}\n          onChange={(e)=>this.setState({authorid:e.target.value})}>\n            {this.props.authors.map(author=>(<option value={author.id} selected={author.id===this.state.authorid}>{author.name}</option>))}\n          </select></span></div>):''\n        }\n\n    <div><span></span><span><button className=\"primary\" onClick={this.addBook}>Add Book</button></span></div>\n    </div>\n  )\n  }\n\n  addBook= ()=>\n  {\n    const {title,description,authorid}=this.state;\n    AddBookMutation(title,authorid,description,this.props.onAddBook);\n  }\n  getAuthors=()=>\n   {\n     console.log(\"getting authors\");\n     fetchQuery(environment,addbookAuthorsQuery)\n       .then(data => {\n         //console.log(data);\n         this.setState({authors:data.authors});\n       });\n   }\n\n\n}\n\nexport default addbook;\n"]},"metadata":{},"sourceType":"module"}